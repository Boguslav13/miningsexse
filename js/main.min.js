const select=document.querySelector("#select"),selectHeader=select.querySelector(".select__header"),selectHeaderSpan=selectHeader.querySelector("span"),selectList=select.querySelector(".select__list"),selectItem=selectList.querySelectorAll(".select__item"),openSelect=()=>{select.classList.add("open"),selectList.classList.add("open")},closeSelect=e=>{select.classList.remove("error"),select.parentElement.querySelector(".message").style.display="none",select.classList.contains("open")&&(select.classList.remove("open"),selectList.classList.remove("open"),e.classList.add("active"),selectHeaderSpan.textContent=e.dataset.name,selectHeader.dataset.selected=e.dataset.name)};selectHeader.addEventListener("click",()=>{select.classList.contains("open")?closeSelect():openSelect()});for(let i=0;i<selectItem.length;i++)selectItem[i].addEventListener("click",()=>{Array.prototype.forEach.call(selectItem,function(e){e.classList.remove("active")}),closeSelect(selectItem[i])});const smoothLinks=document.querySelectorAll("a.smooth");for(let smoothLink of smoothLinks)smoothLink.addEventListener("click",function(e){e.preventDefault();let t=smoothLink.getAttribute("href"),l=document.querySelector(t),r=l.getBoundingClientRect().top+window.pageYOffset+-76;window.scrollTo({top:r,behavior:"smooth"})});const header=document.querySelector(".header");header.classList.add("visible");const headerFixed=()=>{let e=window.pageYOffset;e<550?(header.classList.add("top"),e<250&&(header.classList.remove("top"),header.classList.remove("fixed"))):(header.classList.remove("top"),header.classList.add("fixed"))};window.addEventListener("scroll",headerFixed),window.addEventListener("load",headerFixed);const modalOverlay=document.querySelector(".modal-overlay"),modalCloseBtn=document.querySelectorAll(".modal__close"),modalTriggers=document.querySelectorAll(".modal-call"),modalsAll=document.querySelectorAll(".modal"),showModal=e=>{document.body.classList.add("no-scroll"),modalOverlay.classList.add("show");let t=e.dataset.modal;document.querySelector(`#${t}`).classList.add("show")},closeModal=()=>{document.body.classList.remove("no-scroll"),modalOverlay.classList.remove("show");for(let e=0;e<modalsAll.length;e++)Array.prototype.forEach.call(modalsAll,function(e){e.classList.remove("show")})};for(let m=0;m<modalTriggers.length;m++)modalTriggers[m].addEventListener("click",()=>{showModal(modalTriggers[m])});for(let m=0;m<modalCloseBtn.length;m++)modalCloseBtn[m].addEventListener("click",closeModal);modalOverlay.addEventListener("click",closeModal),modalOverlay.addEventListener("click",closeModal);for(let q=0;q<modalsAll.length;q++)modalsAll[q].addEventListener("click",e=>{e.target===modalsAll[q]&&modalsAll[q].classList.contains("show")&&closeModal()});const burgerOverlay=document.querySelector(".burger__overlay"),burgerMenu=document.querySelector(".burger__box"),burgerIcon=document.querySelector(".burger__icon"),burgerClose=document.querySelector(".burger__close"),burgerLinks=document.querySelectorAll(".burger__link"),menuOpen=()=>{document.body.classList.add("no-scroll-mobile"),burgerOverlay.classList.add("open"),burgerMenu.classList.add("open")},menuClose=()=>{document.body.classList.remove("no-scroll-mobile"),burgerOverlay.classList.remove("open"),burgerMenu.classList.remove("open")};burgerIcon.addEventListener("click",menuOpen),burgerClose.addEventListener("click",menuClose),burgerOverlay.addEventListener("click",menuClose);for(let m=0;m<burgerLinks.length;m++)burgerLinks[m].addEventListener("click",menuClose);const upBtn=document.getElementById("upBtn"),handleScroll=()=>{window.scrollY>document.documentElement.clientHeight?upBtn.classList.add("show"):upBtn.classList.remove("show")},handlerScrollUp=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})};window.addEventListener("scroll",handleScroll),upBtn.addEventListener("click",handlerScrollUp);const focusSwiper=document.getElementById("focusSwiper"),focusSlides=document.querySelectorAll(".focus__card");let focusSliderTarget;const initFocusSlider=()=>{let e=window.innerWidth;if(e<1024&&void 0===focusSliderTarget)focusSliderTarget=new Swiper("#focusSwiper",{loop:!1,spaceBetween:10,slidesPerView:2,adaptiveHeight:!0,centeredSlides:!0,roundLengths:!1,speed:800,breakpoints:{320:{slidesPerView:1,centeredSlides:!1,spaceBetween:46},768:{slidesPerView:2,centeredSlides:!1,spaceBetween:32}},navigation:{nextEl:"#focusNext",prevEl:"#focusPrev"}});else if(e>=1024&&void 0!==focusSliderTarget){focusSliderTarget.destroy(!0,!0),focusSliderTarget=void 0,focusSwiper.removeAttribute("style");for(let t=0;t<focusSlides.length;t++)focusSlides[t].removeAttribute("style")}};window.addEventListener("resize",initFocusSlider),window.addEventListener("load",initFocusSlider);const inputsInForms=document.querySelectorAll(".input-style"),inputsFormsChange=e=>{""!==e.value&&e.classList.remove("error")};for(let m=0;m<inputsInForms.length;m++)inputsInForms[m].addEventListener("input",()=>inputsFormsChange(inputsInForms[m]));const formFeedbackElement=document.getElementById("feedbackForm"),formContactElement=document.getElementById("contactForm");async function feedbackSend(e){e.preventDefault();if(0===formValidate(formFeedbackElement)){let t=formFeedbackElement.querySelector(".send-status.success"),l=formFeedbackElement.querySelector(".send-status.fail"),r=formFeedbackElement.querySelector("#name").value,s=formFeedbackElement.querySelector("#phone").value,o=formFeedbackElement.querySelector("#email").value,a;fetch("/form.php",{method:"POST",body:JSON.stringify({"form-name":"feedbackForm",name:r,phone:s,email:o,message:formFeedbackElement.querySelector("#message").value})}).then(e=>{!0===e.ok?t.style.display="block":l.style.display="block"}).catch(e=>console.error(e))}}async function contactSend(e){e.preventDefault();if(0===formValidate(formContactElement)){let t=formContactElement.querySelector(".send-status.success"),l=formContactElement.querySelector(".send-status.fail"),r=formContactElement.querySelector("#selectHeader").getAttribute("data-selected"),s=formContactElement.querySelector("#name").value,o=formContactElement.querySelector("#phone").value,a=formContactElement.querySelector("#email").value,c;fetch("/form.php",{method:"POST",body:JSON.stringify({"form-name":"contactForm",category:r,name:s,phone:o,email:a,message:formContactElement.querySelector("#message").value})}).then(e=>{!0===e.ok?t.style.display="block":l.style.display="block"}).catch(e=>console.error(e))}}formFeedbackElement.addEventListener("submit",feedbackSend),formContactElement.addEventListener("submit",contactSend);const formValidate=e=>{let t=0,l=e.querySelector("#name").value,r=e.querySelector("#phone").value,s=e.querySelector("#email").value;return""==l?(e.querySelector("#name").classList.add("error"),t++):e.querySelector("#name").classList.remove("error"),""==r?(e.querySelector("#phone").classList.add("error"),t++):e.querySelector("#phone").classList.remove("error"),""==s?(e.querySelector("#email").classList.add("error"),t++):e.querySelector("#email").classList.remove("error"),"contactForm"==e.getAttribute("name")&&(""==formContactElement.querySelector("#selectHeader").getAttribute("data-selected")?(formContactElement.querySelector("#selectHeader").parentElement.classList.add("error"),formContactElement.querySelector(".select-wrp").querySelector(".message").style.display="block",t++):(formContactElement.querySelector("#selectHeader").parentElement.classList.remove("error"),formContactElement.querySelector(".select-wrp").querySelector(".message").style.display="none")),t};(wow=new WOW({boxClass:"wow",animateClass:"animated",offset:60,mobile:!0,live:!0})).init();